(this.webpackJsonpcovid19_datavis=this.webpackJsonpcovid19_datavis||[]).push([[0],{134:function(e,t,n){e.exports={App:"App_App__16ZpL",header:"App_header__3ZZ1n",detail:"App_detail__3BK-U",title:"App_title__-GfWs",update:"App_update__m5NWp",mapContainer:"App_mapContainer__3SUeY",slider:"App_slider__2X9cc"}},169:function(e,t,n){e.exports={graphArea:"graphArea_graphArea__2agVU",graph:"graphArea_graph__1iHG2"}},242:function(e,t){},352:function(e,t,n){},506:function(e,t){},510:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(60),o=n.n(r),s=(n(352),n(94)),i=n.n(s),l=n(204),u=n(39),d=n(134),j=n.n(d),p=n(550),b=n(329),h=n(551),f=n(78),m=n.n(f),x=["\u5317\u6d77\u9053","\u9752\u68ee\u770c","\u5ca9\u624b\u770c","\u5bae\u57ce\u770c","\u79cb\u7530\u770c","\u5c71\u5f62\u770c","\u798f\u5cf6\u770c","\u8328\u57ce\u770c","\u6803\u6728\u770c","\u7fa4\u99ac\u770c","\u57fc\u7389\u770c","\u5343\u8449\u770c","\u6771\u4eac\u90fd","\u795e\u5948\u5ddd\u770c","\u65b0\u6f5f\u770c","\u5bcc\u5c71\u770c","\u77f3\u5ddd\u770c","\u798f\u4e95\u770c","\u5c71\u68a8\u770c","\u9577\u91ce\u770c","\u5c90\u961c\u770c","\u9759\u5ca1\u770c","\u611b\u77e5\u770c","\u4e09\u91cd\u770c","\u6ecb\u8cc0\u770c","\u4eac\u90fd\u5e9c","\u5927\u962a\u5e9c","\u5175\u5eab\u770c","\u5948\u826f\u770c","\u548c\u6b4c\u5c71\u770c","\u9ce5\u53d6\u770c","\u5cf6\u6839\u770c","\u5ca1\u5c71\u770c","\u5e83\u5cf6\u770c","\u5c71\u53e3\u770c","\u5fb3\u5cf6\u770c","\u9999\u5ddd\u770c","\u611b\u5a9b\u770c","\u9ad8\u77e5\u770c","\u798f\u5ca1\u770c","\u4f50\u8cc0\u770c","\u9577\u5d0e\u770c","\u718a\u672c\u770c","\u5927\u5206\u770c","\u5bae\u5d0e\u770c","\u9e7f\u5150\u5cf6\u770c","\u6c96\u7e04\u770c"],O=n(10);function g(e){return Object(O.jsx)("div",{className:m.a.field,children:Object(O.jsxs)("div",{className:m.a.column,children:[Object(O.jsx)("div",{className:m.a.columnTitle,children:"Polygon Layer"}),Object(O.jsxs)("div",{className:m.a.column,children:[Object(O.jsx)("div",{children:"\u8868\u793a\u30c7\u30fc\u30bf"}),Object(O.jsx)("form",{children:Object(O.jsx)("select",{children:Object(O.jsx)("option",{children:"1\u65e5\u306e\u967d\u6027\u8005\u6570"})})})]}),Object(O.jsx)("div",{className:m.a.column,children:Object(O.jsx)("form",{children:Object(O.jsx)("select",{children:Object(O.jsx)("option",{children:"\u5f53\u65e5"})})})}),Object(O.jsx)("div",{children:"\u8868\u793a\u7bc4\u56f2"}),Object(O.jsxs)("form",{children:[Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"checkbox",name:"color1",value:"polygon",checked:e.isZenkoku,onChange:function(){e.isZenkoku||e.onIsZenkokuChange(!0)}}),"\u5168\u56fd"]}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"checkbox",name:"color1",value:"polygon",checked:!e.isZenkoku,onChange:function(){e.isZenkoku&&e.onIsZenkokuChange(!1)}}),"\u90fd\u9053\u5e9c\u770c\u5225"]})]}),Object(O.jsx)("div",{className:m.a.selectPref,children:Object(O.jsx)("form",{children:Object(O.jsxs)("tbody",{children:[x.map((function(t,n){return n%3===2?Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsxs)("label",{className:m.a.prefCheckbox,children:[Object(O.jsx)("input",{type:"checkbox",name:"pref",value:t,checked:e.isPrefsPolygon[n-2],onChange:function(t){var c=e.isPrefsPolygon.map((function(e){return e}));c[n-2]=t.target.checked,e.setIsPrefsPolygon(c)}},t+"-polygon"),x[n-2]]})}),Object(O.jsx)("td",{children:Object(O.jsxs)("label",{className:m.a.prefCheckbox,children:[Object(O.jsx)("input",{type:"checkbox",name:"pref",value:t,checked:e.isPrefsPolygon[n-1],onChange:function(t){var c=e.isPrefsPolygon.map((function(e){return e}));c[n-1]=t.target.checked,e.setIsPrefsPolygon(c)}},t+"-polygon"),x[n-1]]})}),Object(O.jsx)("td",{children:Object(O.jsxs)("label",{className:m.a.prefCheckbox,children:[Object(O.jsx)("input",{type:"checkbox",name:"pref",value:t,checked:e.isPrefsPolygon[n],onChange:function(t){var c=e.isPrefsPolygon.map((function(e){return e}));c[n]=t.target.checked,e.setIsPrefsPolygon(c)}},t+"-polygon"),t]})})]}):Object(O.jsx)("div",{})})),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsxs)("label",{className:m.a.prefCheckbox,children:[Object(O.jsx)("input",{type:"checkbox",name:"pref",value:x[45],checked:e.isPrefsPolygon[45],onChange:function(t){var n=e.isPrefsPolygon.map((function(e){return e}));n[45]=t.target.checked,e.setIsPrefsPolygon(n)}},x[45]+"-polygon"),x[45]]})}),Object(O.jsx)("td",{children:Object(O.jsxs)("label",{className:m.a.prefCheckbox,children:[Object(O.jsx)("input",{type:"checkbox",name:"pref",value:x[46],checked:e.isPrefsPolygon[46],onChange:function(t){var n=e.isPrefsPolygon.map((function(e){return e}));n[46]=t.target.checked,e.setIsPrefsPolygon(n)}},x[46]+"-polygon"),x[46]]})})]})]})})})]})})}n(169),n(540),n(541),n(545),n(319),n(320),n(173),n(333);var y=n(96),k=n.n(y),_=n(557),v=n(547),P=n(514),C=n(554),N=n(322),A=n.n(N),I=n(323),F=n.n(I),S=n(324),Z=n.n(S),D=Object(c.createRef)(null);function w(e){var t=Object(c.useState)(!1),n=Object(u.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(0),s=Object(u.a)(o,2),i=s[0],l=s[1];return Object(O.jsxs)("div",{className:k.a.bottomMenuField,children:[Object(O.jsx)(_.a,{className:k.a.slider,ref:D,value:e.original_index,defaultValue:e.defaultValue,ValueLabelComponent:function(t){return function(e,t){var n=e.children,c=e.open;return Object(O.jsx)(C.a,{open:c,enterTouchDelay:0,placement:"top",title:t,children:n})}(t,e.date)},valueLabelDisplay:"on",step:1,marks:!0,min:0,max:e.defaultValue,onChange:function(t,n){return e.onSliderChange(n)}}),Object(O.jsxs)(v.a,{className:k.a.group,children:[Object(O.jsx)(P.a,{variant:"outlined",className:k.a.button,startIcon:Object(O.jsx)(A.a,{className:k.a.icon}),style:{borderColor:"darkturquoise"},onClick:function(){a||(l(function(e,t,n){var c=t,a=setInterval((function(){c===n-1&&clearInterval(a),e(c),c++}),100);return a}(e.onSliderChange,e.original_index,e.date_length)),r(!0))}}),Object(O.jsx)(P.a,{variant:"outlined",className:k.a.button,startIcon:Object(O.jsx)(F.a,{className:k.a.icon}),style:{borderColor:"darkturquoise"},onClick:function(){clearInterval(i),r(!1)}}),Object(O.jsx)(P.a,{variant:"outlined",className:k.a.button,startIcon:Object(O.jsx)(Z.a,{className:k.a.icon}),style:{borderColor:"darkturquoise"},onClick:function(){clearInterval(i),e.onSliderChange(0),r(!1)}})]})]})}function M(){return L.apply(this,arguments)}function L(){return(L=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("jsonData/newCovid19JapanAll.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",[t,Object.keys(t)]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return J.apply(this,arguments)}function J(){return(J=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("jsonData/prefectures.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return e.features}));case 2:return t=e.sent,e.abrupt("return",{type:"FeatureCollection",features:t});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=function(){var e=Object(c.useState)({}),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)({}),o=Object(u.a)(r,2),s=o[0],d=o[1],f=Object(c.useState)("2021-01-10"),m=Object(u.a)(f,2),y=m[0],k=m[1],_=Object(c.useState)([]),v=Object(u.a)(_,2),P=v[0],C=v[1],N=Object(c.useState)({longitude:135,latitude:38,zoom:4.6,pitch:45}),A=Object(u.a)(N,2),I=A[0],F=(A[1],Object(c.useState)(!0)),S=Object(u.a)(F,2),Z=S[0],D=S[1],L=Object(c.useState)(!0),J=Object(u.a)(L,2),V=J[0],q=J[1],E=Object(c.useState)(!0),W=Object(u.a)(E,2),z=W[0],G=W[1],B=Object(c.useState)(Array(47).fill(!1)),Q=Object(u.a)(B,2),R=Q[0],U=Q[1],Y=Object(c.useState)(!0),H=Object(u.a)(Y,2),K=H[0],X=H[1],$=Object(c.useState)(Array(47).fill(!1)),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],ce=new h.a({id:"geojson-layer",data:s,wireframe:!0,filled:!0,stroked:!0,opacity:1,pickable:!0,extruded:!0,lineWidthScale:20,lineWidthMinPixels:2,getFillColor:function(e){return z||R[x.indexOf(e.properties.name)]?[n[y][e.properties.name].per_day/.5,122,122,255]:[0,0,0,0]},getRadius:100,getLineWidth:1,getLineColor:function(e){return z||R[x.indexOf(e.properties.name)]?[n[y][e.properties.name].per_day/.5,122,122,255]:[0,0,0,0]},getElevation:function(e){return z||R[x.indexOf(e.properties.name)]?200*n[y][e.properties.name].per_day:0},updateTriggers:{getFillColor:{yyyymmdd:y,isPrefsPolygon:R,isZenkoku:z},getLineColor:{yyyymmdd:y,isPrefsPolygon:R,isZenkoku:z},getElevation:{yyyymmdd:y,isPrefsPolygon:R,isZenkoku:z}}});return Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,n,c,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:return t=e.sent,n=Object(u.a)(t,2),c=n[0],r=n[1],console.log(r),a(c),C(r),k(r[0]),e.next=12,T();case 12:o=e.sent,d(o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log("mounted"),function(){e.apply(this,arguments)}(),function(){return console.log("unmounting...")}}),[]),Object(O.jsxs)("div",{className:j.a.App,children:[Object(O.jsxs)("div",{className:j.a.header,children:[Object(O.jsx)("div",{className:j.a.title,children:"\u65b0\u578b\u30b3\u30ed\u30ca\u30a6\u30a4\u30eb\u30b9\u30c7\u30fc\u30bf\u53ef\u8996\u5316\u30b5\u30a4\u30c8"}),Object(O.jsx)("a",{className:j.a.detail,href:"https://github.com/tktkbohshi/cov19_map_vis",children:"\u30ec\u30dd\u30b8\u30c8\u30ea\uff08\u30ea\u30f3\u30af\uff09"}),Object(O.jsx)("div",{className:j.a.update,children:"update at 2021.4.24"})]}),Object(O.jsxs)("div",{className:j.a.mapContainer,children:[Object(O.jsx)(p.a,{layers:[ce],initialViewState:I,controller:!0,children:Object(O.jsx)(b.a,{mapboxApiAccessToken:"pk.eyJ1IjoibmF0c3Vub3RzdWt1ZGEiLCJhIjoiY2tua2l1ZzB0MGJqaDJucDNqYnd2MmVlZyJ9.n2deVJQiKF_O3D8TGX8E9Q",mapStyle:"mapbox://styles/natsunotsukuda/cknluz9sx1ovb17pd5et6hg4y"})}),Object(O.jsx)(g,{isZenkoku:z,isZenkokuArc:K,isPrefsPolygon:R,isPrefsArc:te,setIsDisplayPlygon:Z,isDiplayArc:V,setIsPrefsPolygon:function(e){return U(e)},setIsPrefsArc:function(e){return ne(e)},setIsDisplayPolygon:function(e){return D(e)},setIsDisplayArc:function(e){return q(e)},onIsZenkokuChange:function(e){return G(e)},onIsZenkokuArcChange:function(e){return X(e)}}),Object(O.jsx)(w,{defaultValue:P.length-1,date:y,original_index:P.indexOf(y),date_length:P.length,onSliderChange:function(e){k(P[e]),console.log("slider change")}})]})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,558)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(V,{})}),document.getElementById("root")),q()},78:function(e,t,n){e.exports={field:"menuField_field__3soiD",column:"menuField_column__35OH_",selectPref:"menuField_selectPref__21qgJ",prefCheckbox:"menuField_prefCheckbox__1_vl6",columnTitle:"menuField_columnTitle__1L0QN",checkIsDisplaying:"menuField_checkIsDisplaying__PZu2d"}},96:function(e,t,n){e.exports={bottomMenuField:"bottomMenuField_bottomMenuField__1-lF_",slider:"bottomMenuField_slider__1Plzk",group:"bottomMenuField_group__24kj5",button:"bottomMenuField_button__1ZSxZ",icon:"bottomMenuField_icon__1oQC0"}}},[[510,1,2]]]);
//# sourceMappingURL=main.ce452429.chunk.js.map